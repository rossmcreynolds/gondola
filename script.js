const songs=[],songFileNames=["assets/tracks/01_Is This Even Real_MST 8.21.mp3","assets/tracks/02_Sketches of London_MST 8.24.2.mp3","assets/tracks/03_Tied to His Brother_MST 8.21.mp3","assets/tracks/04_Int.Amb._MST 8.24.mp3","assets/tracks/05_Sundawg_MST 8.21.mp3","assets/tracks/06_KordArp_MST 8.24.mp3","assets/tracks/07_ExtAudSeq_MST 8.24.mp3","assets/tracks/08_CouplA Beasts_MST 8.21.mp3","assets/tracks/09_A Nagging_MST 8.21.mp3"];for(let e=0;e<songFileNames.length;e++)songs.push(new Audio(songFileNames[e])),songs[e].addEventListener("loadeddata",(()=>{document.querySelectorAll("h1")[e].style.boxShadow="inset 0 0 0 black"})),e!=songFileNames.length&&songs[e].addEventListener("ended",(function(){audioManager(e+1,!0)}));let repeater,currentTrack=-1;function audioManager(e,t){if(1==currentPage||t||isPortrait){let t=e;if(t==currentTrack)if(songs[t].paused){songs[t].play(),document.querySelectorAll("h1")[t].classList.add("bounce-text");for(let e=0;e<4;e++)document.getElementsByClassName("small-head")[e].classList.add("bounce-head"+e)}else{songs[t].pause(),document.querySelectorAll("h1")[t].classList.remove("bounce-text");for(let e=0;e<4;e++)document.getElementsByClassName("small-head")[e].classList.remove("bounce-head"+e)}else{if(-1!=currentTrack){songs[currentTrack].pause(),document.querySelectorAll("h1")[currentTrack].classList.remove("bounce-text");for(let e=0;e<4;e++)document.getElementsByClassName("small-head")[e].classList.remove("bounce-head"+e)}songs[t].currentTime=0,songs[t].play(),document.querySelectorAll("h1")[t].classList.add("bounce-text");for(let e=0;e<4;e++)document.getElementsByClassName("small-head")[e].classList.add("bounce-head"+e);currentTrack=t}}}let tracks=["IS THIS EVEN REaL","SKETCHES OF LONDON","TIED TO HIS BROTHER","INT.aMB","SUNDaWG","KORDaRP","EXTaUDSEQ","COUPLa BEATS","a NAGGING"],currentText="",previousIndex=-1;function hoverEffect(e){e!=previousIndex&&(currentText=tracks[e],previousIndex=e);let t=currentText.split(""),r=Math.floor(Math.random()*t.length);"Uppercase"==checkCase(t[r])?t[r]=t[r].toLowerCase():"Lowercase"==checkCase(t[r])&&(t[r]=t[r].toUpperCase()),t=t.join(""),document.querySelectorAll("span")[e].textContent=t,currentText=t}function leaveHover(e){document.querySelectorAll("span")[e].textContent=tracks[e]}function checkCase(e){return e===e.toUpperCase()&&e!==e.toLowerCase()?"Uppercase":e===e.toLowerCase()&&e!==e.toUpperCase()?"Lowercase":"Not an alphabetic character"}let hasHovered=!1;function toggleSpeech(e){if(1==currentPage){hasHovered=!0;let t=document.getElementsByClassName("speech-bubble")[0];t.style.opacity=e?100:0}}let currentPage=1,returnPage=1;function getFlexOrderItem(e){const t=window.getComputedStyle(e);return parseInt(t.getPropertyValue("order"),10)}function changePage(e){if(window.innerWidth/window.innerHeight>4/3){if((e+1)%3==currentPage)for(let e=1;e<=3;e++){let t=document.getElementsByClassName("page"+e)[0],r=window.getComputedStyle(t).getPropertyValue("order");document.getElementsByClassName("page"+e)[0].style.order=(r+1)%3}else if((e+2)%3==currentPage)for(let e=1;e<=3;e++){let t=document.getElementsByClassName("page"+e)[0],r=window.getComputedStyle(t).getPropertyValue("order");document.getElementsByClassName("page"+e)[0].style.order=(r+2)%3}currentPage=e;for(let e=1;e<=3;e++){let t=document.getElementsByClassName("page"+e)[0],r=t.style;e-1==currentPage?(r.height="100vh",r.width="100vh",r.aspectRatio="1/1",r.flex=5,r.margin="0vh",r.cursor="default",t.classList.remove("sidepage")):(r.height="22.22vw",r.width="29.64vw",r.aspectRatio="3/4",r.flex=2,r.margin="5vh",r.cursor="pointer",t.classList.add("sidepage"))}}2==currentPage?document.querySelectorAll("pre")[0].style.fontSize="2.3vh":isPortrait?document.querySelectorAll("pre")[0].style.fontSize="2.4vh":isPortrait||(document.querySelectorAll("pre")[0].style.fontSize="0.5vw")}window.addEventListener("load",(()=>{document.getElementById("center-me").scrollIntoView({behavior:"auto",block:"center",inline:"center"})}));let isPortrait=!0,wasPortrait=!0;function windowResize(){if(isPortrait=window.innerWidth/window.innerHeight<4/3,isPortrait&&!wasPortrait){document.getElementsByClassName("page"+(currentPage+1))[0].scrollIntoView({behavior:"auto",block:"center",inline:"center"});for(let e=1;e<=3;e++){let t=document.getElementsByClassName("page"+e)[0].style;t.width="100vw",t.height="100vh",t.margin="0",t.marginBottom="5vh",t.paddingBottom="2vh",t.flex="none",t.scrollSnapAlign="center",t.tranitionDuration="0s",t.cursor="default"}}else if(!isPortrait&&wasPortrait){for(let e=1;e<=3;e++){let t=document.getElementsByClassName("page"+e)[0],r=t.style;e-1==currentPage?(r.height="100vh",r.width="100vh",r.flex=5,r.margin="0vh",r.paddingBottom="0vh",r.cursor="default",t.classList.remove("sidepage")):(r.height="22.22vw",r.width="29.64vw",r.flex=2,r.margin="5vh",r.paddingBottom="0vh",r.cursor="pointer",t.classList.add("sidepage"))}changePage(returnPage)}2==currentPage?document.querySelectorAll("pre")[0].style.fontSize="2.3vh":isPortrait?document.querySelectorAll("pre")[0].style.fontSize="2.4vh":isPortrait||(document.querySelectorAll("pre")[0].style.fontSize="0.5vw"),window.innerWidth/window.innerHeight<.57&&(document.querySelectorAll("pre")[0].style.fontSize="4.2vw"),wasPortrait=window.innerWidth/window.innerHeight<4/3}window.onresize=windowResize,screen.orientation.addEventListener("change",windowResize());const scrollContainer=document.body;scrollContainer.addEventListener("scrollsnapchange",(e=>{const t=e.snapTargetBlock;t&&(returnPage=t.classList[0].slice(-1)-1)})),window.onload=function(){for(let e=0;e<songFileNames.length;e++)setTimeout((function(){document.querySelectorAll("h1")[e].style.boxShadow="inset 0 0 0 black"}),1e3*e*Math.random()+500)};